\subsection{Introdução}

O artigo~\parencite{Pendleton2017Autonomous} tem por objetivo apresentar uma visão geral sobre os principais avanços tecnológicos em termos de sistemas de software para veículos autônomos, embora os autores destacam que uma caracterização completa da literatura seja uma tarefa complexa visto a grande atenção que o tópico tem recebido. Desta forma, a abordagem é estruturada sobre três pilares centrais: \textbf{Percepção}, \textbf{Planejamento} e \textbf{Controle}; e complementarmente, os autores fazem menção a comunicação veículo a veículo (V2V, \textit{vehicle-to-vehicle}) cuja relevância e avanços são relevantes para os 3 pontos originais, compondo desta forma a ``coordenação'' mencionada no título do artigo. 

A motivação do estudo nasce da grande possibilidade que a tecnologia de direção autônoma trás ao reduzir os custos sociais relevantes, aproximadamente 300 bilhões de dólares somente no ano de 2009, o equivalente a 17\% do PIB brasileiro à época \footnote{Segundo estimativa oficial \parencite{IBGE2009PIB}, o PIB brasileiro foi de R\$ 3,24 trilhões de reais ou US\$1,7 trilhões pela cotação do dólar no período de 2009}. Consequentemente, há um interesse significativo no avanço das tecnologias de condução autônoma por sua capacidade de fazer frente a um problema que, embora esteja centrado nos EUA, é de interesse global.

\subsection{Percepção}

A função fundamental que habilita um carro autônomo é sua capacidade de percepção, pois por meio dela, o veículo é capaz de obter informações sobre o ambiente em que se encontra, áreas livres para deslocamento, obstáculos próximos, velocidades e dados para previsões de estados futuros de outros objetos. Embora existam diversas tecnologias de sensores que compreendem esta função, simplificadamente pode-se resumir a ação da percepção como:
\begin{itemize}
    \item Extração (Definição) da superfície da estrada;
    \item Detecção de objetos na estrada.
\end{itemize}

Os autores, em certa forma alinhados com os vídeos discutidos nas primeiras seções deste trabalho, apresentam o contexto do LiDAR, da visão computacional (chamada somente de Vision) e do sistema de fusão de sensores (\textit{Fusion}). Destacando para uma cada das tecnologias, seus pontos fortes e fracos, bem como contraste com os desafios que cada uma delas enfrenta. Nos itens a seguir, são discorridos resumidamente os principais aspectos de cada uma das tecnologias apresentados pelos autores:

\begin{itemize}
    \item \textbf{LiDAR}: seu princípio compreende a construção de uma mapa 3D dinâmico do ambiente baseado em feixes de luz. Os principais desafios associados à tecnologia referem-se à dificuldade em tratar a grande quantidade de dados (grande número de matrizes esparsas) e de se construir uma visão coerente do mundo com base nos dados, uma vez que as superfícies refletoras não são perfeitamente caracterizáveis. Além disso, o custo computacional associado ao processamento dos dados LiDAR, nas redes 3D, cresce de forma cúbica, representando um desafio tecnológico significativo.
    \item \textbf{Visão computacional}: distinto do conceito do processo anterior, a visão computacional busca identificar e classificar os objetos, caracterizando faixas, superfície e objetos na via (sejam pedestres ou outros veículos). Alguns desafios tradicionais deste método incluem a dificuldade de tratamento de sombras, reflexos e outros fenômenos e variações na iluminação ambiente. Com a adoção do Deep Learning para tratamento e compreensão dos dados, há uma melhora no uso da tecnologia, porém assim como no LiDAR há uma demanda progressiva de processamento necessário para fazer frente à implementação da tecnologia de modo satisfatório.
    \item \textbf{Fusão de sensores}: nesta abordagem busca-se congregar os dados obtidos pelas câmeras e pelo LiDAR de forma a conceber um mundo combinado de informações, construindo assim um sistema robusto de percepção, unindo a precisão do LiDAR (imune aos efeitos de variação da iluminação) com os detalhes oriundos do processamento da imagem das câmeras. Na época do artigo, 2017, os autores ressaltam que a combinação dos dois mundos ainda operava em estágio embrionário, promissor, mas ainda distante de uma capacidade real de operação para um veículo autônomo em vista da demanda computacional agregada dos dois métodos.
\end{itemize}

Ainda no contexto da Percepção, os sistemas de sensores servem para que o veículo seja capaz de reconhecer e operar em seu entorno, porém ainda é necessário que o veículo tenha capacidade de saber onde ele está no mundo. Isto é, para operação autônoma plena, além de reconhecer os obstáculos, o veículo deve saber traçar e executar uma rota. A fim de executar tal tarefa, é necessário, portanto, que ele disponha de meios tecnológicos que denotem sua posição.

As principais tecnologias que permitem ao veículo executar tal tarefa são:
\begin{itemize}
    \item \textbf{GPS e Sistemas Inerciais}: fusão de sistemas de navegação por satélite (como o GPS) com sistemas de navegação inercial é uma das maneiras de se localizar um veículo. O GPS fornece uma correção regular da posição global do veículo , enquanto o sistema inercial (usando acelerômetros e giroscópios) estima a atitude e o movimento. No entanto, esta abordagem tem limitações significativas. O sinal de GPS pode ser perdido ou degradado em túneis, garagens ou ``cânions urbanos'' entre edifícios altos, e os erros crescem de forma ilimitada ao longo do tempo se não forem corrigidos por outras fontes.
    \item \textbf{Localização e Mapeamento Simultâneo (SLAM)}:ara superar as deficiências do GPS, os algoritmos de SLAM tornaram-se fundamentais. O objetivo do SLAM é construir um mapa do ambiente e, simultaneamente, usar esse mapa para estimar a posição do veículo. Esta abordagem utiliza características locais (como postes, edifícios ou marcações na estrada) para alcançar uma localização de alta precisão. Um evento chave no SLAM é o ``fechamento de loop'' (loop closure), que ocorre quando o veículo reconhece um local que visitara em outro momento, permitindo uma correção substancial dos erros de odometria acumulados. Os autores destacam que a detecção automática e robusta de fechamentos de loop ainda é um problema de pesquisa em aberto e um grande desafio.
\end{itemize}

\subsection{Planejamento}

Uma vez que o veículo é capaz de perceber seu ambiente e determinar sua localização, a próxima etapa crítica é o planejamento. Este processo envolve a tomada de decisões para atingir um objetivo de alto nível (por exemplo, ir do ponto A ao B) de forma segura, eficiente e em conformidade com as regras de trânsito. Os autores descrevem uma arquitetura de planejamento hierárquica de três níveis, que foi comum entre as equipes de sucesso do DARPA Urban Challenge e continua a influenciar os sistemas atuais.

\begin{itemize}
    \item \textbf{Planejamento de Missão (Alto Nível)}: Este é o planejador de rota, que considera o objetivo geral da viagem. Ele opera sobre um mapa da rede de estradas (como um Route Network Definition File ou RNDF) e utiliza algoritmos de busca em grafos, para encontrar o caminho de menor custo (geralmente a menor distância ou tempo) entre a origem e o destino.
    \item \textbf{Planejamento Comportamental (Nível Intermediário)}: Este nível é responsável por tomar decisões táticas e \textit{ad-hoc} para interagir com outros agentes no trânsito e seguir as regras. Ele gera objetivos locais, como ``mudar de faixa'', ``ultrapassar'' ou ``avançar no cruzamento''. Muitas das primeiras implementações usavam Máquinas de Estados Finitos (FSMs, \textit{finite state machines}) para ditar ações em resposta a contextos de direção específicos. Os autores destacam que as FSM são projetadas manualmente para um número limitado de situações e podem levar a comportamentos inesperados ou bloqueios (deadlocks) em cenários não previstos.
    \item \textbf{Planejamento de Movimento (Baixo Nível)}: Este planejador gera as trajetórias precisas (caminho e velocidade) para executar os objetivos locais definidos pelo planejador comportamental, com o objetivo principal de alcançar uma região de destino sem colidir com obstáculos. Um dos maiores desafios aqui é a ``maldição da dimensionalidade'', que torna a busca exaustiva por um caminho ótimo computacionalmente intratável em espaços de alta dimensão. Para superar isso, os algoritmos baseados em amostragem, como os Rapidly-exploring Random Trees (RRT), são muito populares por sua eficiência. A pesquisa recente foca em variantes assintoticamente ótimas, como o RRT*, que garantem a convergência para a melhor solução possível ao longo do tempo. Um desafio contínuo é incorporar eficientemente as restrições diferenciais do veículo (suas limitações de movimento, como raio de giro e aceleração) nesses planejadores. Neste nível, os planejadores são mais diversificados e operam com diferentes resoluções e princípios:
    \begin{itemize}
        \item \textbf{Planejamento combinatório}: esses planejadores são mais ambiciosos e propõem encontrar uma solução \textbf{completa} por meio de uma representação discreta que representa \textbf{exatamente} o problema original, que, porém, é caracterizada empregando propriedades convenientes aos solucionadores de casos especiais. Os autores mencionam alguns casos específicos relevantes em que esse tipo de fenômeno ocorre e que diversos métodos ainda competem por definir quais são os melhores.
        \item \textbf{Planejamento amostral}: diferente da proposta anterior, neste os métodos executam amostragem aleatórios do espaço contínuo obtendo, desta forma, trajetória razoáveis em que a razoabilidade é julgada por meio do número de colisões com vértices e das arestas conectadas aos vértices.
    \end{itemize}
    \item \textbf{Planejamento em ambientes dinâmicos}: neste caso, os sistemas de planejamento operam com a premissa que de os ambientes não são conhecidos \textit{a priori}, portanto requerem gerenciamento dinâmico em face do surgimento de onbstáculos. Esse modelo é bastante coerente com a situação real de uma cidade, em que inúmeros objetos deslocam-se sem aparente causalidade (do ponto de vista do veículo) e, portanto, devem ser observado por meio de padrões estocásticos.
    \item \textbf{Planejamento incremental e replanejamento}: em última instância, a natureza intrinsecamente dinâmica dos ambientes em que os carros autônomos se encontram exigem não por erros dos métodos, mas por incompatibilidade direta, revisões constantes dos planejamentos estabelecidos. Embora tenha uma conotação bastante intuitiva, a implicação direta de tal condição sugere que os AVs devem ser construídos com sistemas que permita a correção em tempo real de suas previsões, o que insere novas camadas de complexidade em todo o projeto do veículos autônomo: frequência de replanejamento, interrupção ou descarte de planos anteriores, quais estratégias devem ser adotadas a fim de contornar tais situações? Todas essas perguntas promovem novas ondas de métodos e soluções as quais são estudadas e apresentadas como potenciais para um ou outra situação.
\end{itemize}

\subsection{Controle}

A competência de controle é o processo de converter as intenções geradas pelo planejamento em ações físicas, ou seja, fornecer os comandos necessários aos atuadores de direção, aceleração e freio do veículo. O objetivo é garantir que o veículo execute a trajetória planejada da forma mais precisa e estável possível.

\begin{itemize}
    \item \textbf{Controle Clássico}: A forma mais comum de controle de realimentação é o controlador Proporcional-Integral-Derivativo (PID). Ele é simples e não exige um modelo do sistema, mas sua resposta a erros pode ser lenta, pois ele só reage depois que o erro ocorre. Uma arquitetura mais avançada, conhecida como "controlador de dois graus de liberdade", combina o controle de realimentação (``feedback'') com um controle de antecipação (``feedforward''), que utiliza um modelo do sistema para prever e compensar proativamente as ações necessárias, superando as limitações do controle puramente reativo.
    \item \textbf{Controle Preditivo Baseado em Modelo (MPC)}: O MPC é uma abordagem de controle avançada que tem recebido muita atenção na indústria automotiva. Ele utiliza um modelo matemático do veículo para prever seu comportamento futuro e calcula uma sequência ótima de comandos de controle sobre um horizonte de tempo finito. Sua principal vantagem é a capacidade de lidar explicitamente com restrições do sistema (como limites de aceleração ou ângulo de direção) e otimizar o desempenho (por exemplo, segurança ou consumo de combustível). O maior desafio do MPC é sua alta demanda computacional, pois um problema de otimização complexo deve ser resolvido em tempo real, a cada poucos milissegundos.
\end{itemize}

Os autores desenvolvem mais profundidade a matemática que corrobora os argumentos centrais para o emprego do MPC como fundamental, apontando para diversas vantagens de tal abordagem frente ao controle clássico como, por exemplo, ganho substancial no precisão do operação do carro e mitigação dos efeitos de correção lenta observada na contraparte clássica. Porém, esse ganho se traduz em um custo computacional mais elevado, que por sua vez implica maiores custos financeiros e de complexidade aos veículos autônomos.

\subsection{Coordenação de Veículos}

Com o avanço das tecnologias de comunicação veicular, a cooperação entre múltiplos veículos autônomos se torna possível, permitindo melhorias significativas em segurança e eficiência que não seriam alcançáveis por um único veículo isoladamente. A comunicação Veículo-a-Veículo (V2V) é a base para essa coordenação.

\begin{itemize}
    \item \textbf{Localização Cooperativa}: Veículos podem compartilhar suas informações de sensores e estimativas de estado para melhorar a precisão da localização de todo o grupo. Quando um veículo detecta outro, essa observação relativa pode ser usada para refinar as estimativas de pose de ambos, tornando o sistema mais robusto contra falhas de comunicação ou sensores individuais.
    \item \textbf{Coordenação de Movimento}: Ao compartilhar trajetórias planejadas, os veículos podem prever e resolver conflitos de movimento antes que aconteçam. Isso permite uma navegação mais suave e segura, especialmente em cenários complexos como cruzamentos ou fusões de faixas. Em vez de um planejamento centralizado (que é computacionalmente inviável), abordagens desacopladas, onde os veículos coordenam suas velocidades em caminhos fixos, são mais eficientes e práticas. Embora o hardware para comunicação V2V esteja se tornando padronizado, os autores apontam que um desafio futuro é a falta de um padrão sobre qual conteúdo de informação deve ser transmitido entre os veículos para garantir a interoperabilidade.
\end{itemize}

\subsection{Conclusão}

O artigo resenhado apresenta diversas conceitos centrais para cada um dos elementos centrais de um \textit{stack técnico} para carros autônomos e serve como pilar para quaisquer estudos sobre o tema, uma vez que discute de forma extensiva sobre as diferentes tecnologias, métodos e princípios norteadores de cada dos dois primeiros. A conclusão do artigo em si apresenta uma perspectiva otimista do estudo de carros autônomos no qual o aprimoramento da capacidade computacional representa um dos principais portais para implementação da tecnologia, especialmente das técnicas e métodos mais dependentes de inteligência artificial que possuem requisitos onerosos em termos de processamento.